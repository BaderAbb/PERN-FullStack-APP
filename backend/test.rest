### Variables
@baseUrl = http://localhost:5000/api/users
@baseUrlImages = http://localhost:5000/api/images
@baseUrlPosts = http://localhost:5000/api/posts
@contentType = application/json

### base url test
GET http://localhost:5000

#############################################
# USER ENDPOINTS
#############################################

### 1. Get all users
GET {{baseUrl}}/

### 2. Register a new user (basic)
POST {{baseUrl}}/register
Content-Type: {{contentType}}

{
  "username": "car_enthusiast",
  "email": "john@example.com",
  "password": "SecurePass123!"
}

### 2. Register a another user (basic)
POST {{baseUrl}}/register
Content-Type: {{contentType}}

{
  "username": "toyota_enjoyer",
  "email": "toyota@example.com",
  "password": "ToyotaPass123!"
}

### 3. Login user
# @name loginRequest
POST {{baseUrl}}/login
Content-Type: {{contentType}}

{
  "email": "john@example.com",
  "password": "SecurePass123!"
}

### 4. Get current user profile
GET {{baseUrl}}/me
Authorization: Bearer {{loginRequest.response.body.token}}
Content-Type: {{contentType}}

### 5. Update user bio
PUT {{baseUrl}}/update-bio
Authorization: Bearer {{loginRequest.response.body.token}}
Content-Type: {{contentType}}

{
  "bio": "I love cars and motorcycles!"
}

# ==========================================
# 4. SUBIR AVATAR (Multipart)
# ==========================================
### 
POST {{baseUrl}}/upload
Authorization: Bearer {{loginRequest.response.body.token}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

# Campo del archivo (name="image" debe coincidir con upload.single('image'))
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="profile_picture"; filename="test.jpg"
Content-Type: image/jpg

< ./.test/test.jpg
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 5. Get all images
GET {{baseUrlImages}}/


#############################################
# POST ENDPOINTS
#############################################

### 1. Create a new post
POST {{baseUrlPosts}}
Authorization: Bearer {{loginRequest.response.body.token}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

# Campo del archivo (name="image" debe coincidir con upload.single('image'))
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="image"; filename="test.jpg"
Content-Type: image/jpg

< ./.test/jake.jpg
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="car_make"

Toyota
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="car_model"

Supra
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="title"

Toyota Supra
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="car_year"

2022
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="description"

My new Toyota Supra!
------WebKitFormBoundary7MA4YWxkTrZu0gW--

### 2. Get all posts
GET {{baseUrlPosts}}

### 3. Get my posts
GET {{baseUrlPosts}}/me
Authorization: Bearer {{loginRequest.response.body.token}}
Content-Type: {{contentType}}
